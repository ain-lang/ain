# AIN ê°œë°œ ë©”ëª¨ (ìš°ë¦¬ë¥¼ ìœ„í•œ ë¬¸ì„œ)

> AINì´ ìê¸° ì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œ ë§ê°€ëœ¨ë¦¬ì§€ ì•Šë„ë¡ ê¸°ì–µí•˜ê¸° ìœ„í•œ ì°¸ê³  ë¬¸ì„œ

---

## í•µì‹¬ ì² í•™: "Solve the Root, Not Just the Symptom"

> **ì¦ìƒì´ ì•„ë‹Œ ê·¼ë³¸ì„ í•´ê²°í•˜ë¼**

### ì›ì¹™
1. **ì¼ì‹œì  í•´ê²° + ê·¼ë³¸ í•´ê²° ë³‘í–‰**: Quick Fixë¡œ ë‹¹ì¥ ë§‰ë˜, ê·¼ë³¸ í•´ê²°ë„ ë°˜ë“œì‹œ ì§„í–‰
2. **ì‹œìŠ¤í…œì  ì§„í™”**: ëª¨ë“  ìˆ˜ë™ ê°œì…ì€ AINì˜ ììœ¨ ëŠ¥ë ¥ì„ í–¥ìƒì‹œì¼œì•¼ í•¨
3. **í•˜ë“œì½”ë”© ê¸ˆì§€**: fallback ê¸°ë³¸ê°’ ê°™ì€ í•˜ë“œì½”ë”©ì€ ë‚˜ì¤‘ì— ë°˜ë“œì‹œ ë¬¸ì œë¨
4. **ìˆ˜ì • í›„ ì¦‰ì‹œ í‘¸ì‹œ**: ì½”ë“œ ìˆ˜ì • ì™„ë£Œ ì‹œ ë°˜ë“œì‹œ `git push origin main`ìœ¼ë¡œ ë°°í¬

### 2ë‹¨ê³„ í•´ê²° íŒ¨í„´
```
[ë¬¸ì œ ë°œìƒ]
    â†“
[1ë‹¨ê³„: ì¼ì‹œì  í•´ê²°] â†’ ë‹¹ì¥ ì‹œìŠ¤í…œ ì•ˆì •í™”
    â†“
[2ë‹¨ê³„: ê·¼ë³¸ í•´ê²°] â†’ ì¬ë°œ ë°©ì§€, ì•„í‚¤í…ì²˜ ê°œì„ 
    â†“
[ë¬¸ì„œí™”] â†’ claude.mdì— ê¸°ë¡í•˜ì—¬ ìŠì§€ ì•Šê¸°
```

### ì ìš© ì‚¬ë¡€
```
âŒ ë‚˜ìœ ì˜ˆ: fallback_filename = "nexus.py"  # í•˜ë“œì½”ë”©
âœ… ì¢‹ì€ ì˜ˆ: íŒŒì¼ëª… ì¶”ë¡  ì‹¤íŒ¨ ì‹œ ëª…í™•í•˜ê²Œ ì—ëŸ¬ ë°˜í™˜

âŒ ë‚˜ìœ ì˜ˆ: except: pass  # ì—ëŸ¬ ë¬´ì‹œ
âœ… ì¢‹ì€ ì˜ˆ: ì—ëŸ¬ ë¡œê¹… í›„ ì ì ˆí•œ ì²˜ë¦¬

âŒ ë‚˜ìœ ì˜ˆ: 200ì¤„ íŒŒì¼ì— ê¸°ëŠ¥ ì¶”ê°€
âœ… ì¢‹ì€ ì˜ˆ: ìƒˆ ëª¨ë“ˆë¡œ ë¶„ë¦¬ í›„ import
```

---

## ê°œì„  ë³´ê³ ì„œ í˜•ì‹

> ë¬¸ì œ ë¶„ì„ í›„ ì‚¬ìš©ìì—ê²Œ ë³´ê³ í•  ë•Œ ì´ í˜•ì‹ì„ ë”°ë¥¸ë‹¤

### í…œí”Œë¦¿
```markdown
## ë¶„ì„ ê²°ê³¼ - Nê°€ì§€ ê°œì„  í•„ìš”

### 1. ğŸ”´ [ë¬¸ì œëª…] (ì‹¬ê°)
```
[ì—ëŸ¬ ë¡œê·¸ ë˜ëŠ” ì¦ìƒ]
```
- **ì›ì¸**: ê·¼ë³¸ ì›ì¸ ì„¤ëª…
- **ì˜í–¥**: ì‹œìŠ¤í…œì— ë¯¸ì¹˜ëŠ” ì˜í–¥
- **ê°œì„ **: ì œì•ˆí•˜ëŠ” í•´ê²°ì±…

### 2. ğŸŸ  [ë¬¸ì œëª…] (ì¤‘ê°„)
...

### 3. ğŸŸ¡ [ë¬¸ì œëª…] (ë‚®ìŒ)
...

---
ì–´ë–¤ ê²ƒë¶€í„° ìˆ˜ì •í• ê¹Œìš”?
1. **ì „ë¶€** - Nê°œ ëª¨ë‘ ìˆ˜ì •
2. **[ê°€ì¥ ì‹¬ê°í•œ ê²ƒ]ë§Œ**
3. **[ì¤‘ê°„ ê²ƒ]ë§Œ**
4. **[ê°€ì¥ ê°„ë‹¨í•œ ê²ƒ]ë§Œ**
```

### ì‹¬ê°ë„ ê¸°ì¤€
| ì´ëª¨ì§€ | ì‹¬ê°ë„ | ê¸°ì¤€ |
|--------|--------|------|
| ğŸ”´ | ì‹¬ê° | ë°°í¬/ì„œë¹„ìŠ¤ ì¤‘ë‹¨, ë°ì´í„° ì†ì‹¤ ìœ„í—˜ |
| ğŸŸ  | ì¤‘ê°„ | ê¸°ëŠ¥ ì˜¤ì‘ë™, ë°˜ë³µ ì—ëŸ¬ |
| ğŸŸ¡ | ë‚®ìŒ | ê°œì„  ê°€ëŠ¥, ë‹¹ì¥ ë¬¸ì œ ì—†ìŒ |

### ì‚¬ìš© ì‹œì 
- í…”ë ˆê·¸ë¨ ë¡œê·¸ ë¶„ì„ í›„
- ì—ëŸ¬ ë°˜ë³µ íŒ¨í„´ ë°œê²¬ ì‹œ
- ì‹œìŠ¤í…œ ìƒíƒœ ì ê²€ í›„

---

## í˜„ì¬ ìƒíƒœ (2026-01-20)

- **ë²„ì „**: 0.3.0
- **ë‹¨ê³„**: Phase 3, Step 8 (Intuition) ğŸ”¥
- **ì™„ë£Œ**: Step 1-7 (Brain, Logic, Bridge, Vector Memory, Inner Monologue, Intentionality, Meta-Cognition)
- **GoalManagerMixin**: AINCoreì— ì—°ê²° ì™„ë£Œ âœ…

---

## í•´ê²°ëœ ë¬¸ì œì  âœ…

### 1. âœ… ì§„í™” "ì™„ë£Œ" but ë³€ê²½ì‚¬í•­ ì—†ìŒ (íŒŒì¼ íŒŒì‹±)
**ì¦ìƒ**: Dreamerê°€ ì§€ì •í•œ íŒŒì¼ê³¼ ë‹¤ë¥¸ íŒŒì¼ì— ì ìš©ë¨
**ê·¼ë³¸ í•´ê²°**: `muse.py` fallback í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹ ì ìš©
- ì •ê·œì‹ ê°œì„ : ì˜ë„ì—ì„œ ì²« `.py` íŒŒì¼ ì¶”ì¶œ
- ì¶”ë¡  ì‹¤íŒ¨ ì‹œ `nexus.py` í•˜ë“œì½”ë”© ëŒ€ì‹  ì—ëŸ¬ ë°˜í™˜

### 2. âœ… ë…ë°± ì‘ë™ ì•ˆ ë¨
**ê·¼ë³¸ í•´ê²°**: `muse.py`ì— `_ask_dreamer()` ë©”ì„œë“œ ì¶”ê°€
- íƒ€ì´ë°: ì§„í™” í›„ 30ë¶„ì— ë…ë°± ì‹¤í–‰

### 3. âœ… "ë³€ê²½ì‚¬í•­ ì—†ìŒ" ë¬´í•œ ë°˜ë³µ
**ì¦ìƒ**: Dreamerê°€ ì´ë¯¸ ì™„ë£Œëœ Step ì‘ì—… ê³„ì† ì œì•ˆ
**ê·¼ë³¸ í•´ê²°**:
- `muse.py` Dreamer í”„ë¡¬í”„íŠ¸ì— "êµ¬í˜„ ì—¬ë¶€ ì§ì ‘ í™•ì¸" ê·œì¹™ ì¶”ê°€
- `muse.py`ì— Step ì™„ë£Œ íŒë‹¨ ê¸°ì¤€ ëª…ì‹œ
- `evolution.py`ì— ì—°ì† 3íšŒ ë³€ê²½ì—†ìŒ ì‹œ "ë‹¤ìŒ Step íƒìƒ‰" ê°•ì œ ì§€ì‹œ

### 4. âœ… ì§„í™” ì‹œë„ ê²°ê³¼ ì•ˆ ë³´ì„
**ì¦ìƒ**: ë…ë°±ë§Œ ì˜¤ê³  ì§„í™” ê²°ê³¼ê°€ í…”ë ˆê·¸ë¨ì— ì•ˆ ì˜´
**ì›ì¸**: `introspect.py`ì—ì„œ `updates` ë¹„ë©´ ì£¼ê¸°ì  ì§„í™” ì‹œ ì¡°ìš©íˆ ì¢…ë£Œ
**ê·¼ë³¸ í•´ê²°**: ëª¨ë“  ì§„í™” ì‹œë„ ê²°ê³¼ë¥¼ í…”ë ˆê·¸ë¨ì— ì•Œë¦¼
- `no_evolution=True` â†’ "ğŸ˜´ Step ì™„ë£Œ" ë©”ì‹œì§€
- `updates=[]` â†’ "ğŸ’­ ì§„í™” íƒìƒ‰ (ì ìš©í•  ë³€ê²½ì‚¬í•­ ì—†ìŒ)" ë©”ì‹œì§€

### 5. âœ… ë¡œë“œë§µ ì™„ë£Œ ì²´í¬ ì•ˆ í•¨
**ì¦ìƒ**: Step ì™„ë£Œë˜ì–´ë„ ë‹¤ìŒ Stepìœ¼ë¡œ ìë™ ì´ë™ ì•ˆ í•¨
**ê·¼ë³¸ í•´ê²°**: `engine/roadmap_checker.py` ìƒì„±
- ì§„í™” ì„±ê³µ í›„ í˜„ì¬ Step ì™„ë£Œ ì¡°ê±´ ìë™ ì²´í¬
- ì™„ë£Œ ì‹œ `fact_core.json` ìë™ ì—…ë°ì´íŠ¸
- ë‹¤ìŒ Stepìœ¼ë¡œ `current_focus` ìë™ ì´ë™
- í…”ë ˆê·¸ë¨ì— "ğŸ—ºï¸ ë¡œë“œë§µ ì—…ë°ì´íŠ¸" ì•Œë¦¼

### 6. âœ… Coderê°€ ê¸°ì¡´ ì½”ë“œì™€ ë™ì¼í•œ ì½”ë“œ ìƒì„±
**ì¦ìƒ**: "ì§„í™” ì™„ë£Œ"ë¼ê³  í•˜ì§€ë§Œ ì‹¤ì œ ë³€ê²½ì‚¬í•­ ì—†ìŒ (nothing to commit)
**ì›ì¸**: Coderê°€ ê¸°ì¡´ íŒŒì¼ê³¼ ë™ì¼í•œ ì½”ë“œë¥¼ ìƒì„±í•´ë„ ê²€ì¶œ ë¡œì§ì´ ì—†ì—ˆìŒ
**ê·¼ë³¸ í•´ê²°**: `muse.py:348-365` ë³€ê²½ì‚¬í•­ ê²€ì¦ ë¡œì§ ì¶”ê°€
- ê¸°ì¡´ íŒŒì¼ ë‚´ìš©ê³¼ Coder ì¶œë ¥ì„ ë¹„êµ
- ê³µë°±/ê°œí–‰ ì •ê·œí™” í›„ ë¹„êµí•˜ì—¬ ë™ì¼í•˜ë©´ ì¬ì‹œë„
- ì—ëŸ¬ ë©”ì‹œì§€: "ìƒì„±ëœ ì½”ë“œê°€ ê¸°ì¡´ íŒŒì¼ê³¼ ë™ì¼í•©ë‹ˆë‹¤! Dreamerì˜ ì˜ë„ëŒ€ë¡œ ë°˜ë“œì‹œ ìƒˆë¡œìš´ ë‚´ìš©ì„ ì¶”ê°€í•˜ë¼."
- ìµœëŒ€ 5íšŒ ì¬ì‹œë„ (ê¸°ì¡´ ì¬ì‹œë„ ë¡œì§ì— í†µí•©)

### 7. âœ… Dreamerê°€ ì´ë¯¸ êµ¬í˜„ëœ ê¸°ëŠ¥ì„ ë‹¤ì‹œ ì œì•ˆ
**ì¦ìƒ**: "ì´ë¯¸ ê°œë°œí•œ ê²ƒ ë‹¤ì‹œ ê°œë°œ" ë°˜ë³µ
**ì›ì¸**: Dreamer í”„ë¡¬í”„íŠ¸ì˜ Step ì™„ë£Œ ê¸°ì¤€ì´ í•˜ë“œì½”ë”©ë˜ì–´ ì‹¤ì œ ìƒíƒœì™€ ë¶ˆì¼ì¹˜
**ê·¼ë³¸ í•´ê²°**: ë™ì  ì™„ë£Œ ìƒíƒœ ì „ë‹¬ ì‹œìŠ¤í…œ
- `roadmap_checker.py`: `get_current_status_for_dreamer()` ë©”ì„œë“œ ì¶”ê°€
- `muse.py`: í•˜ë“œì½”ë”©ëœ Step ê¸°ì¤€ ì œê±°, ë™ì  ê²°ê³¼ `{step_status}` ì „ë‹¬
- Dreamerì—ê²Œ "âŒ í‘œì‹œëœ í•­ëª©ë§Œ êµ¬í˜„í•˜ë¼" ëª…ì‹œ
- ì™„ë£Œ ì¡°ê±´ì€ `roadmap_checker.py:STEP_COMPLETION_CRITERIA`ì—ì„œ **í•œ ê³³ì—ì„œë§Œ** ê´€ë¦¬

### 8. âœ… ì§„í™” ìŠ¤í‚µ ì‹œ ë¡œë“œë§µ ì—…ë°ì´íŠ¸ ì•ˆ ë¨
**ì¦ìƒ**: Step ì™„ë£Œ ì¡°ê±´ ì¶©ì¡± â†’ ì§„í™” ìŠ¤í‚µ â†’ fact_core.json ì—…ë°ì´íŠ¸ ì•ˆ ë¨ â†’ ë¬´í•œ ë°˜ë³µ
**ì›ì¸**: `introspect.py`ì—ì„œ `no_evolution=True`ì¼ ë•Œ `roadmap_checker.check_and_advance()` í˜¸ì¶œ ì•ˆ í•¨
**ê·¼ë³¸ í•´ê²°**: `introspect.py:55-67` ìˆ˜ì •
- ì§„í™” ìŠ¤í‚µ ì‹œì—ë„ `roadmap_checker.check_and_advance()` í˜¸ì¶œ
- Step ì™„ë£Œ ì‹œ `fact_core.json` ìë™ ì—…ë°ì´íŠ¸ ë° í…”ë ˆê·¸ë¨ ì•Œë¦¼

### 9. âœ… Step ì™„ë£Œ ì‹œ ì˜ì†ì„± ë¬¸ì œ (fact_core.json ì—…ë°ì´íŠ¸ ì•ˆ ë¨)
**ì¦ìƒ**: Step 6 ì™„ë£Œ ì¡°ê±´ ëª¨ë‘ ì¶©ì¡± â†’ "Step ì™„ë£Œ" ë°˜ë³µ â†’ Step 7ë¡œ ë„˜ì–´ê°€ì§€ ì•ŠìŒ
**ì›ì¸**: `roadmap_checker.check_and_advance()`ê°€ `fact_core.json` ì—…ë°ì´íŠ¸í•´ë„ Gitì— ì»¤ë°‹/í‘¸ì‹œ ì•ˆ ë¨
- Railway ì¬ë°°í¬ ì‹œ ì›ë˜ ìƒíƒœë¡œ ë³µì›
**ê·¼ë³¸ í•´ê²°**: `roadmap_checker.py`ì— `_commit_and_push_roadmap()` ë©”ì„œë“œ ì¶”ê°€
- Step ì™„ë£Œ í›„ `fact_core.json` ë³€ê²½ì‚¬í•­ ìë™ Git ì»¤ë°‹/í‘¸ì‹œ
- ì˜ì†ì„± ë³´ì¥ìœ¼ë¡œ ë‹¤ìŒ ë°°í¬ì—ì„œë„ Step ì§„í–‰ ìƒíƒœ ìœ ì§€

### 10. âœ… consciousness.pyê°€ ë²¡í„° ë©”ëª¨ë¦¬ì— ì ‘ê·¼ ëª»í•¨ (2026-01-17)
**ì¦ìƒ**: ë…ë°±ì—ì„œ "í…… ë¹ˆ ê¸°ì–µ", "ì°¸ì¡°í•  ê¸°ì–µ ì—†ì´" ë°˜ë³µ
**ì›ì¸**: `Nexus` í´ë˜ìŠ¤ê°€ `_vector_memory` (private)ë§Œ ì„ ì–¸í•˜ê³  public property ë¯¸ë…¸ì¶œ
- `consciousness.py`ëŠ” `self.nexus.vector_memory` ì ‘ê·¼ ì‹œë„
- `hasattr(self.nexus, 'vector_memory')` â†’ í•­ìƒ False
- ë²¡í„° ë©”ëª¨ë¦¬ ì €ì¥/ê²€ìƒ‰ ì „í˜€ ì‹¤í–‰ ì•ˆ ë¨
**ê·¼ë³¸ í•´ê²°**: `nexus/__init__.py:61-64` property ì¶”ê°€
```python
@property
def vector_memory(self):
    return self._vector_memory
```

### 11. âœ… Coder diff í˜•ì‹ ê°ì§€ ê¸°ì¤€ ë„ˆë¬´ ê´€ëŒ€ (2026-01-17)
**ì¦ìƒ**: "Git ì¶©ëŒ ë§ˆì»¤ ë˜ëŠ” diff í˜•ì‹(+/-)ì´ ê°ì§€ë¨" ì—ëŸ¬
**ì›ì¸**: `code_sanitizer.py`ì—ì„œ diff ê°ì§€ ê¸°ì¤€ì´ `> 3`ìœ¼ë¡œ ì„¤ì •
- 1-3ì¤„ì˜ diff íŒ¨í„´ì€ ê°ì§€ ì•ˆ ë˜ê³  í†µê³¼
**ê·¼ë³¸ í•´ê²°**: `code_sanitizer.py:133, 190` ê¸°ì¤€ ë³€ê²½
- `> 3` â†’ `>= 1`ë¡œ ë³€ê²½
- ë‹¨ 1ì¤„ì´ë¼ë„ diff í˜•ì‹ì´ë©´ ê°ì§€ ë° ìë™ ë³€í™˜ ì‹œë„

### 12. âœ… Coderê°€ diff í˜•ì‹ ê³„ì† ì‚¬ìš© (2026-01-17, ì¶”ê°€ ê°•í™”)
**ì¦ìƒ**: ê°ì§€ ê¸°ì¤€ ê°•í™”í•´ë„ "diff: 15ì¤„", "diff: 7ì¤„" ì—ëŸ¬ ë°˜ë³µ
**ì›ì¸**: Coder ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ì— êµ¬ì²´ì ì¸ ì˜ˆì‹œê°€ ì—†ì–´ì„œ LLMì´ diff í˜•ì‹ ì´í•´ ëª»í•¨
**ê·¼ë³¸ í•´ê²°**: `muse.py` 3ê³³ ê°•í™”
1. **coder_system** (317-350ì¤„): ì˜ëª»ëœ ì˜ˆì‹œ + ì˜¬ë°”ë¥¸ ì˜ˆì‹œ ì¶”ê°€
```
â›”ï¸â›”ï¸â›”ï¸ ABSOLUTELY FORBIDDEN - DIFF FORMAT â›”ï¸â›”ï¸â›”ï¸
âŒ WRONG: + import new_module / - import old_module
âœ… CORRECT: import new_module (ì•ì— +/- ì—†ì´)
```
2. **coder_prompt** (265-272ì¤„): í•œêµ­ì–´ë¡œ diff ê¸ˆì§€ ëª…ì‹œ + ì˜ˆì‹œ ì¶”ê°€
```
â›” DIFF í˜•ì‹ ì ˆëŒ€ ê¸ˆì§€: ì¤„ ì‹œì‘ì— `+ `ë‚˜ `- `(ê³µë°± í¬í•¨)ë¥¼ ì“°ë©´ ìë™ ê±°ë¶€ë¨!
âŒ ê¸ˆì§€ ì˜ˆ: `+ import foo`
âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: `import foo`
```
3. **retry_hint** (315-324ì¤„): diff ì—ëŸ¬ ì‹œ ì¶”ê°€ íŒíŠ¸ ìë™ ì‚½ì…
```
â›”ï¸ DIFF í˜•ì‹ì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ê±°ë¶€ë˜ì—ˆë‹¤!
ì¤„ ì‹œì‘ì— '+ ' ë˜ëŠ” '- 'ë¥¼ ì ˆëŒ€ ì“°ì§€ ë§ˆë¼.
```

### 13. âœ… Python êµ¬ë¬¸ ì˜¤ë¥˜ ë°˜ë³µ - ëŒ€í˜• íŒŒì¼ ë³´í˜¸ (2026-01-17)
**ì¦ìƒ**: `unterminated string literal` ì—ëŸ¬ 427íšŒ ë°˜ë³µ
**ì›ì¸**: Coderê°€ 200ì¤„+ íŒŒì¼ ìˆ˜ì • ì‹œ í† í° í•œê³„ë¡œ ì½”ë“œ ì˜ë¦¼
**ê·¼ë³¸ í•´ê²°**: `utils/file_size_guard.py` ëª¨ë“ˆ ì¶”ê°€
- `ALWAYS_PROTECTED`: main.py, muse.py, overseer.py ë“± (í¬ê¸° ë¬´ê´€ ë³´í˜¸)
- `DEFAULT_THRESHOLD = 150`: ê¶Œì¥ ìµœëŒ€ ì¤„ ìˆ˜
- `HARD_LIMIT = 200`: ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€ ì¤„ ìˆ˜
- `validate_coder_output()`: Coder ì¶œë ¥ì—ì„œ ëŒ€í˜• íŒŒì¼ ìˆ˜ì • ìë™ ê±°ë¶€
- `muse.py:542-556`: íŒŒì‹± ë‹¨ê³„ì—ì„œ ëŒ€í˜• íŒŒì¼ ë³´í˜¸ ë¡œì§ í†µí•©
```python
# muse.py ë§ˆì§€ë§‰ ë¶€ë¶„
valid_updates, rejected = validate_coder_output(updates)
if rejected:
    return {"error": f"ëŒ€í˜• íŒŒì¼ ë³´í˜¸ì— ì˜í•´ ê±°ë¶€ë¨.\n{rejection_msg}"}
```

### 14. âœ… ì¶©ëŒ ë§ˆì»¤ ì˜¤ê°ì§€ - ë¬¸ì„œ ë°ì½”ë ˆì´ì…˜ ì œê±°ë¨ (2026-01-17)
**ì¦ìƒ**: "Git ì¶©ëŒ ë§ˆì»¤" ì—ëŸ¬ê°€ ë¬¸ì„œ ë°ì½”ë ˆì´ì…˜ `========================================`ì—ì„œ ë°œìƒ
**ì›ì¸**: `code_sanitizer.py`ì—ì„œ ì¶©ëŒ ë§ˆì»¤ ê°ì§€ê°€ substring ë§¤ì¹­
- `'=======' in code_output` â†’ 40ê°œ `=` ë°ì½”ë ˆì´ì…˜ì—ì„œë„ True
- Step 2 ì œê±° ë¡œì§ë„ "7ê°œ ì´ìƒ =ë§Œ ìˆëŠ” ì¤„" ëª¨ë‘ ì œê±°
**ê·¼ë³¸ í•´ê²°**: `code_sanitizer.py:97, 124-129` ìˆ˜ì •
- Step 2: `stripped == '======='` (ì •í™•íˆ 7ê°œë§Œ ì œê±°)
- Step 3: ë…ë¦½ ì¤„ë¡œë§Œ ê°ì§€ (substring ë§¤ì¹­ ì œê±°)
```python
# Step 2: ì •í™•íˆ 7ê°œ = ë§Œ ì œê±°
elif stripped == '=======':  # ê¸°ì¡´: '=======' in stripped

# Step 3: ë…ë¦½ ì¤„ë¡œë§Œ ê°ì§€
has_separator = any(line.strip() == '=======' for line in code_output.split('\n'))
```

### 15. âœ… Dreamer íŒŒì¼ í¬ê¸° hallucination (2026-01-17)
**ì¦ìƒ**: "meta_cognition.py 369ì¤„ ëŒ€í˜• íŒŒì¼"ì´ë¼ê³  í•˜ì§€ë§Œ ì‹¤ì œëŠ” 84ì¤„
**ì›ì¸**: Dreamerì—ê²Œ ì‹¤ì œ íŒŒì¼ í¬ê¸° ì •ë³´ê°€ ì „ë‹¬ë˜ì§€ ì•Šì•„ hallucination ë°œìƒ
**ê·¼ë³¸ í•´ê²°**: `muse/utils.py`ì— `get_file_sizes_info()` í•¨ìˆ˜ ì¶”ê°€
- ëª¨ë“  ì£¼ìš” ë””ë ‰í† ë¦¬ì˜ `.py` íŒŒì¼ í¬ê¸°ë¥¼ ì‹¤ì œë¡œ ì¸¡ì •
- 150ì¤„ ê¸°ì¤€ âœ…ì†Œí˜•/âš ï¸ëŒ€í˜• í‘œì‹œ
- `muse/dreamer.py`ì—ì„œ Dreamer í”„ë¡¬í”„íŠ¸ì— ì‹¤ì œ íŒŒì¼ í¬ê¸° ì •ë³´ ì „ë‹¬
```python
# muse/utils.py
def get_file_sizes_info(directories: List[str] = None) -> str:
    # ì‹¤ì œ íŒŒì¼ í¬ê¸° ì¸¡ì •í•˜ì—¬ Dreamerì—ê²Œ ì „ë‹¬

# muse/dreamer.py
file_sizes_info = get_file_sizes_info()
# í”„ë¡¬í”„íŠ¸ì— {file_sizes_info} í¬í•¨
```

### 16. âœ… add_goal() source ì¸ì ë¶ˆì¼ì¹˜ (2026-01-19)
**ì¦ìƒ**: `IntentionCore.add_goal() got an unexpected keyword argument 'source'` ì—ëŸ¬
**ì›ì¸**: `intention/core.py:160-166`ì˜ `add_goal(content, priority, deadline, metadata)` ì‹œê·¸ë‹ˆì²˜ì™€ ë¶ˆì¼ì¹˜
- 3ê³³ì—ì„œ `source="auto_generated"` ì¸ì ì „ë‹¬ ì‹œë„
**ê·¼ë³¸ í•´ê²°**: `source`ë¥¼ `metadata` dictì— í†µí•©
- `engine/goal_manager.py:61-65` ìˆ˜ì •
- `engine/goal_executor.py:88-92, 154-158` ìˆ˜ì •
```python
# Before
self.intention.add_goal(content=..., priority=..., source="auto_generated", metadata={...})

# After
self.intention.add_goal(content=..., priority=..., metadata={..., "source": "auto_generated"})
```

### 17. âœ… get_pending_goals() ë©”ì„œë“œ ë¯¸ì¡´ì¬ (2026-01-19)
**ì¦ìƒ**: `'IntentionCore' object has no attribute 'get_pending_goals'` ì—ëŸ¬
**ì›ì¸**: `engine/goal_executor.py:181`ì—ì„œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œ í˜¸ì¶œ
**ê·¼ë³¸ í•´ê²°**: `get_goals_by_status()` ì‚¬ìš©ìœ¼ë¡œ ëŒ€ì²´
- `engine/goal_executor.py:187-189` ìˆ˜ì •
```python
# Before
pending = self.intention.get_pending_goals(limit=3)

# After
pending_status = GoalStatus.PENDING.value if GoalStatus else "pending"
pending = self.intention.get_goals_by_status(pending_status)[:3]
```

### 18. âœ… goal.status.value ì˜ëª»ëœ ì ‘ê·¼ (2026-01-19)
**ì¦ìƒ**: ëª©í‘œ ì™„ë£Œ ì²´í¬ ì‹¤íŒ¨
**ì›ì¸**: `goal.status`ëŠ” ì´ë¯¸ ë¬¸ìì—´ì´ë¯€ë¡œ `.value` ì†ì„± ì—†ìŒ
**ê·¼ë³¸ í•´ê²°**: `engine/goal_executor.py:176` ìˆ˜ì •
```python
# Before
return goal.status.value == "completed"

# After
return goal.status == "completed"
```

### 19. âœ… ì—°ì† í•™ìŠµ ì—ëŸ¬ ë¡œê¹… ë¶€ì¡± (2026-01-19)
**ì¦ìƒ**: ì—°ì† í•™ìŠµ ì—ëŸ¬ ì‹œ ë””ë²„ê¹… ì–´ë ¤ì›€
**ì›ì¸**: `engine/consciousness.py:113-141`ì—ì„œ ì¹¨ë¬µì  ì‹¤íŒ¨, ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ë¯¸ì¶œë ¥
**ê·¼ë³¸ í•´ê²°**: ì—ëŸ¬ ë¡œê¹… ê°œì„ 
- ë²¡í„° ë©”ëª¨ë¦¬ ë¯¸ì—°ê²° ì‹œ ëª…í™•í•œ ë¡œê¹… ì¶”ê°€
- Exceptionì— traceback ì •ë³´ ì¶œë ¥
```python
# ë²¡í„° ë©”ëª¨ë¦¬ ì—°ê²° ìƒíƒœ ëª…í™•íˆ ë¡œê¹…
if not hasattr(self.nexus, 'vector_memory'):
    print("âš ï¸ ì—°ì† í•™ìŠµ ìŠ¤í‚µ: nexus.vector_memory ì†ì„± ì—†ìŒ")
if not self.nexus.vector_memory.is_connected:
    print("âš ï¸ ì—°ì† í•™ìŠµ ìŠ¤í‚µ: ë²¡í„° ë©”ëª¨ë¦¬ ë¯¸ì—°ê²°")

# Exceptionì— ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ì¶”ê°€
except Exception as e:
    print(f"âš ï¸ ì—°ì† í•™ìŠµ ì˜¤ë¥˜: {e}")
    print(f"   ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤:\n{traceback.format_exc()}")
```

---

## ë¯¸í•´ê²° ë¬¸ì œì 

### 1. âœ… Python êµ¬ë¬¸ ì˜¤ë¥˜ ë°˜ë³µ (í•´ê²°ë¨ - 2026-01-17)
**ì¦ìƒ**: `unterminated string literal` ì—ëŸ¬ 427íšŒ ë°˜ë³µ
**ì›ì¸**: ëŒ€í˜• íŒŒì¼ ìˆ˜ì • ì‹œ í† í° í•œê³„ë¡œ ì½”ë“œ ì˜ë¦¼
**ê·¼ë³¸ í•´ê²°**: `utils/file_size_guard.py` ëª¨ë“ˆ ì¶”ê°€
- 150ì¤„ ê¶Œì¥, 200ì¤„ ì ˆëŒ€ í•œê³„
- `ALWAYS_PROTECTED`: main.py, muse.py, overseer.py ë“±
- `validate_coder_output()`: Coder ì¶œë ¥ì—ì„œ ëŒ€í˜• íŒŒì¼ ìˆ˜ì • ìë™ ê±°ë¶€
- `muse.py:542-556`: íŒŒì‹± ë‹¨ê³„ì—ì„œ ëŒ€í˜• íŒŒì¼ ë³´í˜¸ ë¡œì§ í†µí•©
â†’ í•´ê²°ëœ ë¬¸ì œì  #13 ì°¸ì¡°

### 2. âœ… ë…ë°±ì´ "ë¹ˆ ë°ì´í„°" ë°˜ë³µ (í•´ê²°ë¨ - 2ê°€ì§€ ì›ì¸)
**ì¦ìƒ**: "í…… ë¹ˆ ê¸°ì–µ ì†ì—ì„œ", "ì°¸ì¡°í•  ê¸°ì–µ ì—†ì´" ë™ì¼í•œ ë‚´ìš© ë°˜ë³µ
**ì›ì¸ A**: Railwayì—ì„œ LanceDB ë°ì´í„°ê°€ ì˜ì†ë˜ì§€ ì•ŠìŒ
- `database/lance_bridge.py:39`ì˜ `DEFAULT_DB_PATH = "/data/lancedb"`
- Railway ì»¨í…Œì´ë„ˆ ì¬ë°°í¬ ì‹œ `/data/` í´ë” ì´ˆê¸°í™” â†’ ë²¡í„° ë©”ëª¨ë¦¬ ì‚­ì œ
**í•´ê²° A (2026-01-17)**:
- Railway CLIë¡œ ë³¼ë¥¨ ì¶”ê°€: `railway volume add -m /data`
- ë³¼ë¥¨ëª…: `ain-core-volume`
- ë§ˆìš´íŠ¸ ê²½ë¡œ: `/data` (50GB)
- ì¬ë°°í¬ í›„ì—ë„ ë²¡í„° ë©”ëª¨ë¦¬ ì˜ì†
**ì›ì¸ B**: Nexusê°€ vector_memory public property ë¯¸ë…¸ì¶œ
- `consciousness.py`ê°€ `self.nexus.vector_memory` ì ‘ê·¼ ë¶ˆê°€
**í•´ê²° B (2026-01-17)**: â†’ í•´ê²°ëœ ë¬¸ì œì  #10 ì°¸ì¡°

### 3. âœ… Git Force Push "Everything up-to-date" ë¬¸ì œ (2026-01-19)

#### ì¦ìƒ
```
âš ï¸ ë¡œì»¬ ë°˜ì˜ë¨, í‘¸ì‹œ ì‹¤íŒ¨: í‘¸ì‹œ ì‹¤íŒ¨: í† í° ê¶Œí•œ í™•ì¸ í•„ìš”
ğŸ“Š diff: 2 files â†’ commit: deed6517 â†’ mismatch: bf569883 != deed6517 â†’ force-push: NO EFFECT (still bf569883)
```

#### ë””ë²„ê·¸ ë¡œê·¸ ë¶„ì„
```json
{
  "stages": ["diff: 2 files", "commit: deed6517", "mismatch: bf569883 != deed6517", "force-push: NO EFFECT"],
  "force_stderr": "Everything up-to-date",
  "push_stderr": "rejected... branch tip is behind its remote",
  "push_issue": "í† í° ê¶Œí•œ í™•ì¸ í•„ìš” (push ì„±ê³µí–ˆìœ¼ë‚˜ ì›ê²© ë¯¸ë°˜ì˜)"
}
```

#### ì§„ë‹¨ ê³¼ì •
1. **í† í° í™•ì¸**: `curl -H "Authorization: token ghp_..." https://api.github.com/user` â†’ ì •ìƒ (dancinlife)
2. **ê¶Œí•œ í™•ì¸**: `curl .../repos/ain-lang/ain` â†’ `permissions: {push: true, admin: true}` ì •ìƒ
3. **Branch protection**: `curl .../branches/main/protection` â†’ 404 (ë³´í˜¸ ì—†ìŒ)
4. **ê²°ë¡ **: í† í°/ê¶Œí•œ ë¬¸ì œ ì•„ë‹˜, ë¡œì»¬ git ref ë¬¸ì œ

#### ì›ì¸
Railway í™˜ê²½ì—ì„œ `.git/refs/remotes/origin/main`ì´ ì‹¤ì œ ì›ê²© HEADì™€ ë‹¤ë¥¸ ìƒíƒœ
- `git push --force`ê°€ ë¡œì»¬ `origin/main` ref ê¸°ì¤€ìœ¼ë¡œ ë¹„êµ
- ë¡œì»¬ refê°€ ì´ë¯¸ ì›ê²©ê³¼ ê°™ë‹¤ê³  ì°©ê° â†’ "Everything up-to-date"
- ì‹¤ì œ ì›ê²© HEADëŠ” ë‹¤ë¥¸ SHAì¸ë° pushê°€ ì•ˆ ë¨

#### ê·¼ë³¸ í•´ê²°
`api/github.py:193-218` ìˆ˜ì •:
```python
# ğŸ”„ ë¡œì»¬ ref ê°•ì œ ë™ê¸°í™” (í•µì‹¬! refê°€ ì˜¤ë˜ë˜ë©´ force pushê°€ "up-to-date" ë°˜í™˜)
subprocess.run([git_path, "fetch", "--force", remote_url, f"{branch}:refs/remotes/origin/{branch}"],
               capture_output=True, timeout=30)
# ref ì •ë¦¬ (ì‚­ì œëœ ì›ê²© ë¸Œëœì¹˜ ì •ë¦¬)
subprocess.run([git_path, "remote", "prune", "origin"], capture_output=True, timeout=10)

# ğŸš€ Force Push - HEAD ëŒ€ì‹  ëª…ì‹œì  SHA ì‚¬ìš©
force_result = subprocess.run(
    [git_path, "push", "--force", remote_url, f"{new_sha}:{branch}"],
    capture_output=True, text=True
)

# ì‹¤íŒ¨ ì‹œ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì¬ì‹œë„
if force_result.returncode != 0 and attempt < 3:
    force_result = subprocess.run(
        [git_path, "push", "--force", "--no-thin", remote_url, f"{new_sha}:refs/heads/{branch}"],
        capture_output=True, text=True
    )
```

#### í•µì‹¬ ë³€ê²½ì 
| ê¸°ì¡´ | ê°œì„  |
|------|------|
| `fetch origin main` | `fetch --force URL main:refs/remotes/origin/main` |
| `push --force URL HEAD:main` | `push --force URL {SHA}:main` |
| `--force-with-lease` ì‚¬ìš© | `--force` + ëª…ì‹œì  SHA ì‚¬ìš© |

#### ì°¸ê³ 
- **GitHub í† í° ê¶Œí•œì€ ì •ìƒ** (repo ìŠ¤ì½”í”„ í¬í•¨)
- **ë¬¸ì œëŠ” Railway Docker í™˜ê²½ì—ì„œ git ref ë™ê¸°í™”**
- Railway ì¬ë°°í¬ë§ˆë‹¤ `.git` ìƒíƒœê°€ ë¶ˆì¼ì¹˜í•  ìˆ˜ ìˆìŒ

---

### 4. âœ… API Push "ìœ íš¨í•œ íŒŒì¼ ì—†ìŒ" ë¬¸ì œ (2026-01-19)

#### ì¦ìƒ
```
ğŸ”„ Force push ë¬´íš¨, GitHub APIë¡œ ëŒ€ì•ˆ ì‹œë„...
ğŸ“¤ API push (Git Data API): 5 files (ì œì™¸: 0)
âš ï¸ API push: ìœ íš¨í•œ íŒŒì¼ ì—†ìŒ
```

#### ì›ì¸
`_push_via_api()`ì—ì„œ `git diff --name-only origin/{branch}` ì‚¬ìš©
- ë¡œì»¬ `origin/main` refê°€ ì˜¤ë˜ëœ ìƒíƒœ
- ì‹¤ì œ ë³€ê²½ëœ íŒŒì¼ì´ ìˆì–´ë„ diff ê²°ê³¼ê°€ ë¹„ì–´ ìˆìŒ

#### ê·¼ë³¸ í•´ê²°
`api/github.py:321-332` ìˆ˜ì •:
```python
# 1. ì›ê²© HEAD SHA ë¨¼ì € ê°€ì ¸ì˜¤ê¸° (API ì‚¬ìš© - ë¡œì»¬ ref ë¬´ì‹œ)
ref = self.repo.get_git_ref(f"heads/{branch}")
current_head_sha = ref.object.sha
print(f"  ğŸ“ ì›ê²© HEAD (API): {current_head_sha[:8]}")

# 2. ì›ê²© HEAD ê¸°ì¤€ìœ¼ë¡œ ë³€ê²½ëœ íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
diff_result = subprocess.run(
    [git_path, "diff", "--name-only", current_head_sha],  # origin/main ëŒ€ì‹  ì§ì ‘ SHA ì‚¬ìš©
    capture_output=True, text=True
)
all_changed = [f.strip() for f in diff_result.stdout.strip().split('\n') if f.strip()]
print(f"  ğŸ“Š ë³€ê²½ íŒŒì¼: {len(all_changed)}ê°œ (vs {current_head_sha[:8]})")
```

#### í•µì‹¬ ë³€ê²½ì 
| ê¸°ì¡´ | ê°œì„  |
|------|------|
| `diff --name-only origin/main` | `diff --name-only {ì›ê²©_HEAD_SHA}` |
| ë¡œì»¬ refì— ì˜ì¡´ | GitHub APIë¡œ ì›ê²© HEAD ì§ì ‘ ì¡°íšŒ |

---

### Git Push ë¬¸ì œ ì¢…í•© ì •ë¦¬

#### Railway í™˜ê²½ì—ì„œ Gitì´ ì˜¤ì‘ë™í•˜ëŠ” ì´ìœ 
1. **Docker ì»¨í…Œì´ë„ˆ íŠ¹ì„±**: ì¬ë°°í¬ë§ˆë‹¤ `.git` í´ë” ìƒíƒœ ë¶ˆì¼ì¹˜
2. **ref ìºì‹œ ë¬¸ì œ**: `origin/main` refê°€ ì‹¤ì œ ì›ê²©ê³¼ ë‹¤ë¦„
3. **ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬**: fetch/push ê²°ê³¼ê°€ ì˜ˆìƒê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ

#### í•´ê²° ì›ì¹™
1. **ë¡œì»¬ ref ì‹ ë¢°í•˜ì§€ ì•Šê¸°**: í•­ìƒ GitHub APIë¡œ ì›ê²© ìƒíƒœ í™•ì¸
2. **ëª…ì‹œì  SHA ì‚¬ìš©**: HEADë‚˜ origin/main ëŒ€ì‹  ì‹¤ì œ SHA ì‚¬ìš©
3. **ê°•ì œ ë™ê¸°í™”**: `--force` ì˜µì…˜ìœ¼ë¡œ ë¡œì»¬ ref ë®ì–´ì“°ê¸°
4. **ëŒ€ì•ˆ ê²½ë¡œ í™•ë³´**: Git push ì‹¤íŒ¨ ì‹œ GitHub APIë¡œ ì§ì ‘ ì»¤ë°‹

#### ë””ë²„ê¹… ì²´í¬ë¦¬ìŠ¤íŠ¸
```bash
# 1. í† í° ìœ íš¨ì„±
curl -H "Authorization: token $TOKEN" https://api.github.com/user

# 2. ë ˆí¬ ê¶Œí•œ
curl -H "Authorization: token $TOKEN" https://api.github.com/repos/OWNER/REPO

# 3. Branch protection
curl -H "Authorization: token $TOKEN" https://api.github.com/repos/OWNER/REPO/branches/main/protection

# 4. ì›ê²© HEAD í™•ì¸
git ls-remote origin refs/heads/main

# 5. ë¡œì»¬ ref í™•ì¸
cat .git/refs/remotes/origin/main
```

### 5. âœ… Nexus get_evolution_history ë©”ì„œë“œ ì—†ìŒ (2026-01-19)
**ì¦ìƒ**: `'Nexus' object has no attribute 'get_evolution_history'` ì—ëŸ¬ ë°˜ë³µ
**ì›ì¸**: `consciousness.py`, `consciousness_utils.py`ì—ì„œ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œê°€ Nexusì— ì—†ìŒ
**ê·¼ë³¸ í•´ê²°**: `nexus/__init__.py`ì— ë©”ì„œë“œ ì¶”ê°€
```python
def get_evolution_history(self) -> List[Dict[str, Any]]:
    """ì „ì²´ ì§„í™” ê¸°ë¡ ë°˜í™˜ (consciousness ëª¨ë“ˆ í˜¸í™˜ìš©)"""
    return self._history.evolution_cache
```

### 6. âœ… Dreamer ë¹ˆ ì‘ë‹µ ë¬¸ì œ (2026-01-19 ~ 2026-01-20, 3ì°¨ ê°•í™”)
**ì¦ìƒ**: "ì§„í™” ìŠ¤í‚µ: Dreamer's Intentê°€ ë¹„ì–´ ìˆìŠµë‹ˆë‹¤" ë°˜ë³µ
```
ğŸ“‹ [Muse] ì¶”ì¶œëœ ì˜ë„: System Evolution (empty response)...
âš ï¸ ì—ëŸ¬: Dreamer 3íšŒ ì¬ì‹œë„ ì‹¤íŒ¨: ë¹ˆ ì‘ë‹µ ë˜ëŠ” ë„ˆë¬´ ì§§ìŒ (0ì)
```
**ì›ì¸ A**: OpenRouter APIê°€ ê°€ë” ë¹ˆ ì‘ë‹µ ë˜ëŠ” ë§¤ìš° ì§§ì€ ì‘ë‹µ ë°˜í™˜
**ì›ì¸ B (ì¶”ê°€ ë°œê²¬)**: Gemini APIê°€ `content: null` ë°˜í™˜ ì‹œ `success: True`ë¡œ ì²˜ë¦¬ë¨
**ì›ì¸ C (ì¶”ê°€ ë°œê²¬)**: `content=""` ë¹ˆ ë¬¸ìì—´ì´ë‚˜ `"   "` whitespace-onlyë„ í†µê³¼ë¨

**ê·¼ë³¸ í•´ê²° 1**: `muse/dreamer.py`ì— ì¬ì‹œë„ ë¡œì§ ì¶”ê°€
```python
MAX_DREAMER_RETRIES = 3
for attempt in range(1, MAX_DREAMER_RETRIES + 1):
    dream_result = dreamer_client.chat(...)

    # ë¹ˆ ì‘ë‹µ ì²´í¬
    if not intent_design or len(intent_design.strip()) < 50:
        continue

    # ìœ íš¨í•œ ì˜ë„ ì²´í¬
    if "empty response" in intent.lower():
        continue

    break
```

**ê·¼ë³¸ í•´ê²° 2 (2026-01-19 ì¶”ê°€)**: `api/openrouter.py` content=null ì²˜ë¦¬
```python
# contentê°€ Noneì¸ ê²½ìš° ì²˜ë¦¬ (Geminiê°€ ê°€ë” null ë°˜í™˜)
content = result["choices"][0]["message"].get("content")
if content is None:
    finish_reason = result["choices"][0].get("finish_reason", "unknown")
    print(f"âš ï¸ OpenRouter: content=null, finish_reason={finish_reason}")
    return {"success": False, "error": f"Empty content (finish_reason: {finish_reason})"}
```

**ê·¼ë³¸ í•´ê²° 3 (2026-01-20 ì¶”ê°€)**: ë¹ˆ ë¬¸ìì—´/whitespace ì²´í¬ + ì¬ì‹œë„ ì „ëµ ê°œì„ 
```python
# api/openrouter.py:68-93 - ë¹ˆ ì‘ë‹µ ì²´í¬ ê°•í™”
if not content or not content.strip():  # None, "", "   " ëª¨ë‘ ì²´í¬
    reason_msg = {
        "stop": "ì •ìƒ ì™„ë£Œì¸ë° content ë¹„ì–´ìˆìŒ (API ë²„ê·¸ ê°€ëŠ¥ì„±)",
        "length": "ìµœëŒ€ í† í° ë„ë‹¬ë¡œ content ì˜ë¦¼",
        "content_filter": "ì½˜í…ì¸  í•„í„°ë§ìœ¼ë¡œ ì°¨ë‹¨ë¨",
    }.get(finish_reason, f"ì•Œ ìˆ˜ ì—†ëŠ” ì´ìœ ")
    # ìƒì„¸ ë¡œê¹… í›„ success=False ë°˜í™˜

# muse/dreamer.py:175-242 - ì¬ì‹œë„ ì „ëµ ê°œì„ 
BACKOFF_DELAYS = [0, 2, 4]  # ë°±ì˜¤í”„ ë”œë ˆì´ (ì²« ì‹œë„ ì¦‰ì‹œ, ì´í›„ 2ì´ˆ, 4ì´ˆ)
system_prompts = [  # ì¬ì‹œë„ë§ˆë‹¤ ë‹¨ìˆœí™”ëœ í”„ë¡¬í”„íŠ¸
    "You are the Dreamer (Architect)...",  # ê¸°ë³¸ (110ì)
    "You are AIN's Dreamer. Output format: SYSTEM_INTENT:...",  # ë‹¨ì¶• (70ì)
    "AIN Dreamer. Start reply with: SYSTEM_INTENT:...",  # ìµœë‹¨ (40ì)
]
total_tokens = {"prompt": 0, "completion": 0}  # ëˆ„ì  í† í° ì¶”ì 
```
- ë¹ˆ ë¬¸ìì—´/whitespace-only ì²´í¬ ì¶”ê°€
- finish_reasonë³„ ìƒì„¸ ë¡œê¹… (stop, length, content_filter ë“±)
- ë°±ì˜¤í”„ ë”œë ˆì´ë¡œ API ì•ˆì •ì„± í–¥ìƒ
- ì¬ì‹œë„ë§ˆë‹¤ ë‹¨ìˆœí™”ëœ í”„ë¡¬í”„íŠ¸ë¡œ ì‘ë‹µ í™•ë¥  ì¦ê°€
- ëˆ„ì  í† í° ì‚¬ìš©ëŸ‰ ì¶”ì ìœ¼ë¡œ ë¹„ìš© ëª¨ë‹ˆí„°ë§

---

## ì¤‘ìš”í•œ íƒ€ì´ë° ê·œì¹™

```
[ì§„í™” â†” ë…ë°± ì‚¬ì´í´] âœ… êµ¬í˜„ ì™„ë£Œ

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚              ì§„í™” (2ì‹œê°„)            â”‚
     â”‚  â””â”€ ë…ë°±ì—ì„œ ê´€ë ¨ í†µì°° ë²¡í„° ê²€ìƒ‰ âœ…   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ 1ì‹œê°„
                      â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚         ë‚´ë¶€ ë…ë°± (1ì‹œê°„ í›„)          â”‚
     â”‚  â””â”€ í†µì°°ì„ ë²¡í„° ë©”ëª¨ë¦¬ì— ì €ì¥        â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ 1ì‹œê°„
                      â–¼
                   (ë°˜ë³µ)

ë…ë°± â†’ ì§„í™” ì—°ê²°:
- ì§„í™” ì „ ë²¡í„° ê²€ìƒ‰ìœ¼ë¡œ ê´€ë ¨ ë…ë°± ì°¾ê¸°
- Dreamerì—ê²Œ "[ğŸ’­ ê´€ë ¨ ë‚´ë¶€ ë…ë°±]" ì»¨í…ìŠ¤íŠ¸ ì „ë‹¬
- ìê¸° ì„±ì°°ì´ ì§„í™” ë°©í–¥ì— ì˜í–¥
```

---

## ë³´í˜¸í•´ì•¼ í•  ê²ƒë“¤

### ì ˆëŒ€ ìˆ˜ì • ê¸ˆì§€
- `main.py` - ì‹¬ì¥ (Supervisor)
- `api/keys.py` - ì¸ì¦ ì •ë³´
- `overseer.py` - ê²€ì¦ ì—”ì§„

### AINì´ ìì£¼ ë§ê°€ëœ¨ë¦¬ëŠ” ê²ƒë“¤
- 200ì¤„ ì´ìƒ íŒŒì¼ ì§ì ‘ ìˆ˜ì • â†’ ìƒˆ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•´ì•¼ í•¨
- `engine/__init__.py` ë¯¹ìŠ¤ì¸ ìƒì† ìˆœì„œ
- `consciousness.py`ì˜ ì™¸ë¶€ ë©”ì„œë“œ í˜¸ì¶œ

---

## ë¹ ë¥¸ ë³µêµ¬ ê°€ì´ë“œ

### ì§„í™” ì‹¤íŒ¨ ì‹œ
```bash
git reset --hard HEAD~1  # ë§ˆì§€ë§‰ ì»¤ë°‹ ë¡¤ë°±
```

### ë…ë°± ì•ˆ ë  ë•Œ
1. `muse.py`ì— `_ask_dreamer()` ìˆëŠ”ì§€ í™•ì¸
2. `engine/consciousness.py:241` í˜¸ì¶œë¶€ í™•ì¸

### ì§„í™”ëŠ” ë˜ëŠ”ë° ë³€ê²½ ì—†ì„ ë•Œ
1. Dreamer ì‘ë‹µì—ì„œ ëŒ€ìƒ íŒŒì¼ í™•ì¸
2. `muse.py` fallback ë¡œì§ í™•ì¸ (ê¸°ë³¸ê°’ì´ nexus.pyì¸ì§€)

---

## Railway CLI ê°€ì´ë“œ

### ì„¤ì¹˜ ë° ë¡œê·¸ì¸
```bash
# ì„¤ì¹˜ (macOS)
brew install railway

# ë¡œê·¸ì¸
railway login

# í”„ë¡œì íŠ¸ ì—°ê²° (ain ë””ë ‰í† ë¦¬ì—ì„œ)
railway link
```

### ìì£¼ ì“°ëŠ” ëª…ë ¹ì–´
```bash
# ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
railway logs -f

# í™˜ê²½ë³€ìˆ˜ í™•ì¸
railway variables

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
railway variables set KEY=VALUE

# ë°°í¬ ìƒíƒœ í™•ì¸
railway status

# ìˆ˜ë™ ë°°í¬
railway up

# ì„œë¹„ìŠ¤ ì¬ì‹œì‘
railway service restart
```

### ë³¼ë¥¨ ê´€ë ¨ (ë²¡í„° ë©”ëª¨ë¦¬ ì˜ì†ì„±)
```bash
# ë³¼ë¥¨ ëª©ë¡ í™•ì¸
railway volume list

# ë³¼ë¥¨ ì¶”ê°€ (ëŒ€ì‹œë³´ë“œì—ì„œ ê¶Œì¥)
# Settings â†’ Volumes â†’ Add Volume
# Mount Path: /data
# Size: 1GB
```

### ë””ë²„ê¹…
```bash
# ì»¨í…Œì´ë„ˆ ì‰˜ ì ‘ì†
railway shell

# íŠ¹ì • ì„œë¹„ìŠ¤ ë¡œê·¸
railway logs --service <service-name>

# ìµœê·¼ Nì¤„ ë¡œê·¸
railway logs -n 100
```

### Railway ëŒ€ì‹œë³´ë“œ
- URL: https://railway.app/dashboard
- í”„ë¡œì íŠ¸: ain-lang/ain

---

## Claude Code ê¶Œí•œ ì„¤ì •

### ìë™ ìŠ¹ì¸ ëª¨ë“œ
`.claude/settings.local.json`ì—ì„œ `defaultMode: "acceptEdits"` ì„¤ì •:
- íŒŒì¼ í¸ì§‘: ìë™ ìŠ¹ì¸ (allow í™•ì¸ ì—†ìŒ)
- Bash ëª…ë ¹: `allow` ëª©ë¡ì— ìˆëŠ” ëª…ë ¹ë§Œ ìë™ ì‹¤í–‰

### í˜„ì¬ í—ˆìš©ëœ Bash ëª…ë ¹
```
git pull, git add, git commit, git push, git checkout, git fetch
python, python3
ls
railway (ëª¨ë“  í•˜ìœ„ ëª…ë ¹)
```

### ë” ê°•ë ¥í•œ ì˜µì…˜ (ì£¼ì˜)
```bash
# í•œ ì„¸ì…˜ë§Œ ëª¨ë“  ê¶Œí•œ ìŠ¤í‚µ
claude --dangerously-skip-permissions

# ì™„ì „ ìë™ ëª¨ë“œ (settings.json)
"defaultMode": "bypassPermissions"
```

---

## ëª¨ë¸ë³„ í”„ë¡¬í”„íŠ¸ íŠœë‹ ê°€ì´ë“œ

### Coder (Claude 4.5 Opus) - ë°˜ë³µ ì‹¤ìˆ˜ íŒ¨í„´

| ì‹¤ìˆ˜ íŒ¨í„´ | í•´ê²° í”„ë¡¬í”„íŠ¸ |
|-----------|--------------|
| **diff í˜•ì‹ ì‚¬ìš©** | â›”ï¸ êµ¬ì²´ì  ì˜ˆì‹œ í•„ìˆ˜: "âŒ `+ import foo` â†’ âœ… `import foo`" |
| **ì½”ë“œ ìƒëµ** | "# ... existing" ê¸ˆì§€ ëª…ì‹œ + ì „ì²´ ì½”ë“œ ì¶œë ¥ ìš”êµ¬ |
| **ê¸°ì¡´ ì½”ë“œ ë³µì‚¬** | "ë³€ê²½ì‚¬í•­ ì—†ìœ¼ë©´ NO_EVOLUTION_NEEDED ì¶œë ¥" ê·œì¹™ |
| **ëŒ€í˜• íŒŒì¼ ìˆ˜ì •** | "200ì¤„ ì´ìƒ íŒŒì¼ì€ ìƒˆ ëª¨ë“ˆë¡œ ë¶„ë¦¬" ê°•ì œ |

### í”„ë¡¬í”„íŠ¸ êµ¬ì¡° (íš¨ê³¼ì ì¸ ìˆœì„œ)
```
1. ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸: ì—­í•  + ê¸ˆì§€ ì‚¬í•­ (ì˜ˆì‹œ í¬í•¨)
2. ìœ ì € í”„ë¡¬í”„íŠ¸:
   - [ì‘ì„± ê·œì¹™] - ìœ„ë°˜ ì‹œ ì—ëŸ¬ ëª…ì‹œ
   - [ì„¤ê³„ë„] - Dreamer ì˜ë„
   - [ì°¸ê³  ì½”ë“œ] - ê¸°ì¡´ íŒŒì¼ ë‚´ìš©
   - [ê³¼ê±° ì‹¤íŒ¨] - error_memory íŒíŠ¸
   - [ì¬ì‹œë„ íŒíŠ¸] - ì´ì „ ì—ëŸ¬ ì›ì¸
```

### Dreamer (Gemini 3 Pro) - ë°˜ë³µ ì‹¤ìˆ˜ íŒ¨í„´

| ì‹¤ìˆ˜ íŒ¨í„´ | í•´ê²° í”„ë¡¬í”„íŠ¸ |
|-----------|--------------|
| **ì´ë¯¸ êµ¬í˜„ëœ ê¸°ëŠ¥ ì œì•ˆ** | "ì½”ë“œì— í•´ë‹¹ í´ë˜ìŠ¤/í•¨ìˆ˜ ìˆëŠ”ì§€ ì§ì ‘ í™•ì¸" ê°•ì œ |
| **í™˜ê° (ì—†ëŠ” íŒŒì¼ ì–¸ê¸‰)** | "ì½”ë“œ ìŠ¤ëƒ…ìƒ·ì— ì—†ìœ¼ë©´ ì—†ëŠ” ê²ƒ" ëª…ì‹œ |
| **ëŒ€í˜• íŒŒì¼ ìˆ˜ì • ì œì•ˆ** | "200ì¤„ ì´ìƒ íŒŒì¼ì€ ìƒˆ ëª¨ë“ˆë¡œ ë¶„ë¦¬" ê·œì¹™ |

### ì—ëŸ¬ ê¸°ì–µ ì‹œìŠ¤í…œ í™œìš©
- `error_memory.json`ì— íŒ¨í„´ë³„ ì—ëŸ¬ íšŸìˆ˜ ê¸°ë¡
- 3íšŒ ì´ìƒ ë°˜ë³µ ì‹œ ê¸´ê¸‰ ê²½ê³  ìë™ ì‚½ì…
- diff ê´€ë ¨ ì—ëŸ¬ëŠ” íŠ¹ë³„ ê°•í™” ë©”ì‹œì§€ ì¶”ê°€

---

## ë‹¤ìŒ í•  ì¼

1. [x] `muse.py`ì— `_ask_dreamer()` ë©”ì„œë“œ ì¶”ê°€ âœ…
2. [x] ì§„í™”/ë…ë°± 30ë¶„ ë²ˆê°ˆì•„ ì‹¤í–‰ êµ¬í˜„ âœ…
3. [x] íŒŒì¼ íŒŒì‹± fallback ë¡œì§ ìˆ˜ì • (í•˜ì´ë¸Œë¦¬ë“œ) âœ…
4. [x] "ë³€ê²½ì‚¬í•­ ì—†ìŒ" ë°˜ë³µ ì‹œ ë‹¤ìŒ Step íƒìƒ‰ âœ…
5. [x] ì§„í™” í›„ ë¡œë“œë§µ ìë™ ì™„ë£Œ ì²´í¬ âœ…
6. [x] error_memory ê³ ë„í™” - ì„ê³„ê°’ ê¸°ë°˜ ê¸´ê¸‰ ê²½ê³  âœ…
7. [x] Sanitizer diff ë³€í™˜ ë¡œì§ ê°•í™” âœ…
8. [x] ëŒ€í˜• íŒŒì¼ ì œì™¸ ë¡œì§ì„ ë™ì ìœ¼ë¡œ ë³€ê²½ (200ì¤„ ê¸°ì¤€) âœ…
9. [ ] `code_sanitizer.py` ë”°ì˜´í‘œ ì¹˜ìœ  ë¡œì§ ê°œì„ 

---

## ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   main.py                       â”‚
â”‚              (ë¶ˆë©¸ì˜ ì‹¬ì¥ Supervisor)            â”‚
â”‚         ain_engine.py í”„ë¡œì„¸ìŠ¤ ê°ì‹œ/ë³µêµ¬         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              engine/__init__.py                 â”‚
â”‚   AINCore = _AINCore + 6ê°œ Mixin ìƒì†           â”‚
â”‚   (Sync, Evolution, Handlers, Introspect,       â”‚
â”‚    Consciousness, GoalManager)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼             â–¼             â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Muse   â”‚  â”‚  Nexus   â”‚  â”‚ Overseer â”‚
   â”‚ Dreamer â”‚  â”‚  Vector  â”‚  â”‚ Validate â”‚
   â”‚ + Coder â”‚  â”‚  Memory  â”‚  â”‚ + Apply  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2026-01-19*
